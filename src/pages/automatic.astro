---
import type { APIRoute } from "astro";
import WorkCard from "../components/WorkCard.astro";
import BaseLayout from "../layouts/BaseLayout.astro";

const response = await fetch("https://opensheet.elk.sh/1ge-pyzr0uMTxlALiiUh_sEzdVo1ikGJGavLF04u6AVU/3"
);
const data = await response.json();

export const GET: APIRoute = (data) => {
  return new Response(
    
    JSON.stringify({
      message: "This was a GET!",
    })
  );
};


  if (!data) {
    return {
      status: 404,
    };
  }


---
<BaseLayout>
  <main class="grid grid-cols-1 sm:grid-cols-3 gap-2 px-2">
    
     {
     data.map((data:any) => (<WorkCard data={data} />
     ))}

    
   </main>
</BaseLayout>


<!-- 
<style>
  .card-container {
      display: flex;
      flex-wrap: wrap; /* 这里设置 flex-wrap: wrap; 让卡片容器可以换行 */
      justify-content: space-between /* 这里可以调整卡片在行内的对齐方式，我设置为 space-between，让卡片之间的间隔尽可能平均 */
    }
  
</style> -->

